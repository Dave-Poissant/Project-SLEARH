\hypertarget{main_8ino}{}\doxysection{C\+:/\+Users/emile/\+Desktop/\+Projet\+\_\+\+S\+L\+E\+A\+R\+H/\+Project-\/\+S\+L\+E\+A\+R\+H/\+Arduino\+\_\+project/\+Servo\+\_\+control/src/main.ino File Reference}
\label{main_8ino}\index{C:/Users/emile/Desktop/Projet\_SLEARH/Project-\/SLEARH/Arduino\_project/Servo\_control/src/main.ino@{C:/Users/emile/Desktop/Projet\_SLEARH/Project-\/SLEARH/Arduino\_project/Servo\_control/src/main.ino}}


This file is the main program of the arduino project.  


{\ttfamily \#include $<$Arduino.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$Wire.\+h$>$}\newline
{\ttfamily \#include $<$Communication\+Arduino.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Soft\+Timer/\+Soft\+Timer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Servo.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8ino_a9a447e7fa4c0c03129e8d483a33c9cd8}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND}}~false
\begin{DoxyCompactList}\small\item\em Init. to false. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_ad2a127c01495ff21d7d125e6ac349512}{R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND}}~true
\begin{DoxyCompactList}\small\item\em Init. to true. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a29673a846b6e687969ee7223a84d235d}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD}}~false
\begin{DoxyCompactList}\small\item\em Init. to false. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_af7a285079604a5a6469b6e105d559108}{R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD}}~true
\begin{DoxyCompactList}\small\item\em Init. to true. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a177c1033479b806c9447dffe122e1aa1}{S\+E\+N\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+P\+E\+R\+I\+O\+DE}}~200
\begin{DoxyCompactList}\small\item\em sent of Read state Periode (ms) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a680279f4409fdbe455e8cb436036b7db}{R\+E\+A\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+P\+E\+R\+I\+O\+DE}}~1000
\begin{DoxyCompactList}\small\item\em read of Serial Periode (ms) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a62634036639f88eece6fbf226b45f84b}{B\+A\+UD}}~9600
\begin{DoxyCompactList}\small\item\em Baud rate for Arduino mega 2560. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a5f4a53177275806e5c1832a76ce5b7da}{L\+O\+O\+P\+\_\+\+D\+E\+L\+AY}}~200
\begin{DoxyCompactList}\small\item\em time delay between each finger mouvment \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a0419039c7355ac89490a3fda45c41522}{T\+I\+M\+E\+\_\+\+O\+N\+\_\+\+L\+E\+T\+T\+ER}}~1000
\begin{DoxyCompactList}\small\item\em Time spent on each letter. Init. to 1 sec. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a0d09f802bd30e40a3a82644c8b31cc23}{E\+D\+U\+C\+A\+T\+I\+ON}}~0
\begin{DoxyCompactList}\small\item\em The next defined are the different purposes. The different purposes are Education and Quiz. The logic of the main loop alters corresponding to the selected purpose. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8ino_a1f7a995f71945a33e7c70251b043aa6f}{Q\+U\+IZ}}~1
\item 
\#define \mbox{\hyperlink{main_8ino_afc65c7962fe526e849427bfe64b82144}{U\+N\+F\+O\+U\+ND}}~2
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8ino_a5a621fa3ee52f5595b4c980d146ee1ae}{send\+Timer\+Callback}} ()
\begin{DoxyCompactList}\small\item\em callback to update the send Serial.\+read state \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8ino_ad43a02209687d9c1e04dddd167f32c45}{reset\+Timer}} ()
\begin{DoxyCompactList}\small\item\em callback to reset time spend on letter \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8ino_a4fc01d736fe50cf5b977f755b675f11d}{setup}} ()
\begin{DoxyCompactList}\small\item\em This function is the setup of the program. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8ino_afe461d27b9c48d5921c00d521181f12f}{loop}} ()
\begin{DoxyCompactList}\small\item\em This function is the main loop executed by the Arduino. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}} \mbox{\hyperlink{main_8ino_acce3adb5f80a51dfcd0853e3f3f8d730}{com\+Object}} = \mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}}()
\begin{DoxyCompactList}\small\item\em Only instance of \mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}} class, to send and read from python UI. \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{main_8ino_ab59d882c0d163aa09a9c2ef5b8feaa60}{should\+Send}} = \mbox{\hyperlink{main_8ino_a9a447e7fa4c0c03129e8d483a33c9cd8}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND}}
\begin{DoxyCompactList}\small\item\em flag to send a message \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{main_8ino_af98b368c015210c057e25fe1484b1689}{should\+Read}} = \mbox{\hyperlink{main_8ino_a29673a846b6e687969ee7223a84d235d}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD}}
\begin{DoxyCompactList}\small\item\em flag to read a message \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{main_8ino_a109a5b4a978e1cfc92ebc8094456f8a7}{message\+Received}} = false
\begin{DoxyCompactList}\small\item\em flag to show if the arduino as already received a message (temporary) \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} \mbox{\hyperlink{main_8ino_a3b1625ba44546a1ce992da21dea9d565}{timer\+Send\+Msg}}
\begin{DoxyCompactList}\small\item\em send messages timer \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} \mbox{\hyperlink{main_8ino_a5278fd9c15fc0a72b646f5260094d0dd}{timer\+Read\+Msg}}
\begin{DoxyCompactList}\small\item\em read messages timer (temporary) \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} \mbox{\hyperlink{main_8ino_a5b03bd1d13ca5c08ab96658444d82f8f}{timer\+On\+Letter}}
\begin{DoxyCompactList}\small\item\em Monitors the time spent on each letter before resetting to initial position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_servo}{Servo}} \mbox{\hyperlink{main_8ino_a79efceea669fb85a732c30f47cf7e59c}{servo}}
\item 
bool \mbox{\hyperlink{main_8ino_a5976a7c6334f8b6fefe41e75815586e0}{move\+Done}} = false
\begin{DoxyCompactList}\small\item\em Flag to control the main loop according to if the hand finished moving to the desired character. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{main_8ino_a0d0ca8468c1e5115058e00937ca295c0}{reverse\+Done}} = false
\begin{DoxyCompactList}\small\item\em Flag to control the main loop according to if the hand finished moving back to it\textquotesingle{}s initial position. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{main_8ino_a845f0d56bc7052a02d209e1bdb4673ea}{new\+Command}} = false
\begin{DoxyCompactList}\small\item\em Normaly initialized to 0. Set to 1 for testing purposes. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{main_8ino_a08dbc8fa8eee6ad95aa230b9a5d10d25}{blink\+State}} = false
\begin{DoxyCompactList}\small\item\em built-\/in L\+ED\textquotesingle{}s blink\+State \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_a1bdab4cca262d896df88f568c3e10985}{increment}} = 0
\begin{DoxyCompactList}\small\item\em Increment to control which finger is it\textquotesingle{}s turn to be moved. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_a8ac1ceda8825fe551c57acad398ccaf7}{decrement}} = \mbox{\hyperlink{_servo_8h_a656e668a7dd58ea87bd5d160092e9eab}{N\+B\+\_\+\+F\+I\+N\+G\+E\+RS}}-\/1
\begin{DoxyCompactList}\small\item\em Decrement to control which finger is it\textquotesingle{}s turn to be moved back to initial position. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_a31cab1c5a004700a493a2afef37ec96e}{last\+Command}} = to\+Ascii(\textquotesingle{} \textquotesingle{})
\begin{DoxyCompactList}\small\item\em Memorizing the last command achieved in this variable. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_ad732c0c7a8bcc3ecf8c7c360b382740d}{command}} = \textquotesingle{} \textquotesingle{}
\begin{DoxyCompactList}\small\item\em Memorizing the character to be displayed by the hand. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_aea60aa19f747b78afd1139e406a352f2}{purpose}} = \mbox{\hyperlink{main_8ino_afc65c7962fe526e849427bfe64b82144}{U\+N\+F\+O\+U\+ND}}
\begin{DoxyCompactList}\small\item\em Memorizing in which mode the application is used (Quiz or educationnal) \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8ino_acc782030f8793997e749aad227c0d17a}{time\+On\+Letter}} = 1
\begin{DoxyCompactList}\small\item\em Memorizing the time that has to be spent on each letter. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{main_8ino_a481e2c411a810f1de884d60df00c8dac}{timer\+Done}} = false
\begin{DoxyCompactList}\small\item\em Flag for the timer of the time spent on each letter. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file is the main program of the arduino project. 

This file contains the main loop of the project. \begin{DoxyAuthor}{Author}
C\+H\+A\+R\+B\+O\+N\+N\+E\+AU, E\+M\+I\+LE 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
19/04/2020 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8ino_a62634036639f88eece6fbf226b45f84b}\label{main_8ino_a62634036639f88eece6fbf226b45f84b}} 
\index{main.ino@{main.ino}!BAUD@{BAUD}}
\index{BAUD@{BAUD}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{BAUD}{BAUD}}
{\footnotesize\ttfamily \#define B\+A\+UD~9600}



Baud rate for Arduino mega 2560. 

\mbox{\Hypertarget{main_8ino_a0d09f802bd30e40a3a82644c8b31cc23}\label{main_8ino_a0d09f802bd30e40a3a82644c8b31cc23}} 
\index{main.ino@{main.ino}!EDUCATION@{EDUCATION}}
\index{EDUCATION@{EDUCATION}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{EDUCATION}{EDUCATION}}
{\footnotesize\ttfamily \#define E\+D\+U\+C\+A\+T\+I\+ON~0}



The next defined are the different purposes. The different purposes are Education and Quiz. The logic of the main loop alters corresponding to the selected purpose. 

\mbox{\Hypertarget{main_8ino_a5f4a53177275806e5c1832a76ce5b7da}\label{main_8ino_a5f4a53177275806e5c1832a76ce5b7da}} 
\index{main.ino@{main.ino}!LOOP\_DELAY@{LOOP\_DELAY}}
\index{LOOP\_DELAY@{LOOP\_DELAY}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{LOOP\_DELAY}{LOOP\_DELAY}}
{\footnotesize\ttfamily \#define L\+O\+O\+P\+\_\+\+D\+E\+L\+AY~200}



time delay between each finger mouvment 

\mbox{\Hypertarget{main_8ino_a29673a846b6e687969ee7223a84d235d}\label{main_8ino_a29673a846b6e687969ee7223a84d235d}} 
\index{main.ino@{main.ino}!NOT\_READY\_TO\_READ@{NOT\_READY\_TO\_READ}}
\index{NOT\_READY\_TO\_READ@{NOT\_READY\_TO\_READ}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{NOT\_READY\_TO\_READ}{NOT\_READY\_TO\_READ}}
{\footnotesize\ttfamily \#define N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD~false}



Init. to false. 

\mbox{\Hypertarget{main_8ino_a9a447e7fa4c0c03129e8d483a33c9cd8}\label{main_8ino_a9a447e7fa4c0c03129e8d483a33c9cd8}} 
\index{main.ino@{main.ino}!NOT\_READY\_TO\_SEND@{NOT\_READY\_TO\_SEND}}
\index{NOT\_READY\_TO\_SEND@{NOT\_READY\_TO\_SEND}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{NOT\_READY\_TO\_SEND}{NOT\_READY\_TO\_SEND}}
{\footnotesize\ttfamily \#define N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND~false}



Init. to false. 

The next defined are the different communication state. \mbox{\Hypertarget{main_8ino_a1f7a995f71945a33e7c70251b043aa6f}\label{main_8ino_a1f7a995f71945a33e7c70251b043aa6f}} 
\index{main.ino@{main.ino}!QUIZ@{QUIZ}}
\index{QUIZ@{QUIZ}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{QUIZ}{QUIZ}}
{\footnotesize\ttfamily \#define Q\+U\+IZ~1}

\mbox{\Hypertarget{main_8ino_a680279f4409fdbe455e8cb436036b7db}\label{main_8ino_a680279f4409fdbe455e8cb436036b7db}} 
\index{main.ino@{main.ino}!READ\_UPDATE\_PERIODE@{READ\_UPDATE\_PERIODE}}
\index{READ\_UPDATE\_PERIODE@{READ\_UPDATE\_PERIODE}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{READ\_UPDATE\_PERIODE}{READ\_UPDATE\_PERIODE}}
{\footnotesize\ttfamily \#define R\+E\+A\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+P\+E\+R\+I\+O\+DE~1000}



read of Serial Periode (ms) 

\mbox{\Hypertarget{main_8ino_af7a285079604a5a6469b6e105d559108}\label{main_8ino_af7a285079604a5a6469b6e105d559108}} 
\index{main.ino@{main.ino}!READY\_TO\_READ@{READY\_TO\_READ}}
\index{READY\_TO\_READ@{READY\_TO\_READ}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{READY\_TO\_READ}{READY\_TO\_READ}}
{\footnotesize\ttfamily \#define R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD~true}



Init. to true. 

\mbox{\Hypertarget{main_8ino_ad2a127c01495ff21d7d125e6ac349512}\label{main_8ino_ad2a127c01495ff21d7d125e6ac349512}} 
\index{main.ino@{main.ino}!READY\_TO\_SEND@{READY\_TO\_SEND}}
\index{READY\_TO\_SEND@{READY\_TO\_SEND}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{READY\_TO\_SEND}{READY\_TO\_SEND}}
{\footnotesize\ttfamily \#define R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND~true}



Init. to true. 

\mbox{\Hypertarget{main_8ino_a177c1033479b806c9447dffe122e1aa1}\label{main_8ino_a177c1033479b806c9447dffe122e1aa1}} 
\index{main.ino@{main.ino}!SEND\_UPDATE\_PERIODE@{SEND\_UPDATE\_PERIODE}}
\index{SEND\_UPDATE\_PERIODE@{SEND\_UPDATE\_PERIODE}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{SEND\_UPDATE\_PERIODE}{SEND\_UPDATE\_PERIODE}}
{\footnotesize\ttfamily \#define S\+E\+N\+D\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+P\+E\+R\+I\+O\+DE~200}



sent of Read state Periode (ms) 

The next defined are the different communication delays. \mbox{\Hypertarget{main_8ino_a0419039c7355ac89490a3fda45c41522}\label{main_8ino_a0419039c7355ac89490a3fda45c41522}} 
\index{main.ino@{main.ino}!TIME\_ON\_LETTER@{TIME\_ON\_LETTER}}
\index{TIME\_ON\_LETTER@{TIME\_ON\_LETTER}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{TIME\_ON\_LETTER}{TIME\_ON\_LETTER}}
{\footnotesize\ttfamily \#define T\+I\+M\+E\+\_\+\+O\+N\+\_\+\+L\+E\+T\+T\+ER~1000}



Time spent on each letter. Init. to 1 sec. 

\mbox{\Hypertarget{main_8ino_afc65c7962fe526e849427bfe64b82144}\label{main_8ino_afc65c7962fe526e849427bfe64b82144}} 
\index{main.ino@{main.ino}!UNFOUND@{UNFOUND}}
\index{UNFOUND@{UNFOUND}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{UNFOUND}{UNFOUND}}
{\footnotesize\ttfamily \#define U\+N\+F\+O\+U\+ND~2}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8ino_afe461d27b9c48d5921c00d521181f12f}\label{main_8ino_afe461d27b9c48d5921c00d521181f12f}} 
\index{main.ino@{main.ino}!loop@{loop}}
\index{loop@{loop}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily void loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function is the main loop executed by the Arduino. 

\begin{DoxyReturn}{Returns}
This function doesn\textquotesingle{}t return (void). 
\end{DoxyReturn}
This section is executed if the arduino should send state to Pi.

$<$ Sends the state to the Pi.

This section is executed if the Arduino\textquotesingle{}s state is not ready.

This section is executed if the purpose is Education.

This section is executed if the hand hasn\textquotesingle{}t finished it\textquotesingle{}s moved and the return value of servo\+Out() is true.

$<$ If the code enters this section, the move is done.

This section is executed if the time on letter timer has elapsed.

This section is executed if the move is done and the return value of reverse\+Move() is true.

$<$ If the code enters this section, the reverse move is done.

$<$ The move is finished. The arduino\textquotesingle{}s state is ready.

$<$ Increment is reset to 0.

$<$ Decrement is reset to nb of fingers -\/ 1.

$<$ Saving the actual command in memory \&last\+Command.

$<$ Command is reset to \textquotesingle{} \textquotesingle{}.

The the next if defines wich one of the increment or decrement to operate on, depending on the conditions of the hand.

This section is executed if the purpose is Quiz.

This section is executed if the last command is a character.

This section is executed if the reverse move hasn\textquotesingle{}t been done and if the return value of reverse\+Move() is true.

$<$ If the code enters this section, the reverse move is done.

This section is executed if the reverse move is done and if the return value of servo\+Out() is true.

This section is executed if the time on letter timer has elapsed.

$<$ If the code enters this section, the move is done.

$<$ The move is done. The arduino\textquotesingle{}s state is ready.

$<$ Increment is reset to 0.

$<$ Decrement is reset to nb of fingers -\/ 1.

$<$ Saving the actual command in memory \&last\+Command.

$<$ Command is reset to \textquotesingle{} \textquotesingle{}.

The next if defines wich one of the increment or decrement to operate on, depending on the conditions of the hand.

End of the not ready to read case

This section is executed if the arduino\textquotesingle{}s state is ready to read.

$<$ Resetting move\+Done to false.

$<$ Resetting reverse\+Done to false.

$<$ Reading informations about incoming command.

This section is executed if the command is not empty.

$<$ The state of the arduino is set to not ready because it received a valid command.

$<$ Setting the delay on the time on letter timer.

$<$ Resetting the time on letter timer.

$<$ Dropping the timer\+Done flag.

The next section is executed if the state of the Arduino isn\textquotesingle{}t ready to read.

$<$ Setting the Arduino\textquotesingle{}s state to ready to read.

The next commands updates the running timers.

$<$ loop delay to cool down the processor and control the communication rate.\mbox{\Hypertarget{main_8ino_ad43a02209687d9c1e04dddd167f32c45}\label{main_8ino_ad43a02209687d9c1e04dddd167f32c45}} 
\index{main.ino@{main.ino}!resetTimer@{resetTimer}}
\index{resetTimer@{resetTimer}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{resetTimer()}{resetTimer()}}
{\footnotesize\ttfamily void reset\+Timer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



callback to reset time spend on letter 

This function is executed when the time on letter timer is over.

\begin{DoxyReturn}{Returns}
This function doesn\textquotesingle{}t return (void). 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8ino_a5a621fa3ee52f5595b4c980d146ee1ae}\label{main_8ino_a5a621fa3ee52f5595b4c980d146ee1ae}} 
\index{main.ino@{main.ino}!sendTimerCallback@{sendTimerCallback}}
\index{sendTimerCallback@{sendTimerCallback}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{sendTimerCallback()}{sendTimerCallback()}}
{\footnotesize\ttfamily void send\+Timer\+Callback (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



callback to update the send Serial.\+read state 

This function is executed when the communication sender timer is over.

Function prototypes

\begin{DoxyReturn}{Returns}
This function doesn\textquotesingle{}t return (void). 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8ino_a4fc01d736fe50cf5b977f755b675f11d}\label{main_8ino_a4fc01d736fe50cf5b977f755b675f11d}} 
\index{main.ino@{main.ino}!setup@{setup}}
\index{setup@{setup}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function is the setup of the program. 

Setup

\begin{DoxyReturn}{Returns}
This function doesn\textquotesingle{}t return (void). 
\end{DoxyReturn}
Initializing the timer to send the state to the Pi

Initializing the timer to handle the time spent on each letter

initializing the pwm

$<$ Analog servos run at $\sim$60\+Hz updates.

Placing every fingers to the initial position

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8ino_a08dbc8fa8eee6ad95aa230b9a5d10d25}\label{main_8ino_a08dbc8fa8eee6ad95aa230b9a5d10d25}} 
\index{main.ino@{main.ino}!blinkState@{blinkState}}
\index{blinkState@{blinkState}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{blinkState}{blinkState}}
{\footnotesize\ttfamily bool blink\+State = false}



built-\/in L\+ED\textquotesingle{}s blink\+State 

\mbox{\Hypertarget{main_8ino_ad732c0c7a8bcc3ecf8c7c360b382740d}\label{main_8ino_ad732c0c7a8bcc3ecf8c7c360b382740d}} 
\index{main.ino@{main.ino}!command@{command}}
\index{command@{command}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{command}{command}}
{\footnotesize\ttfamily int command = \textquotesingle{} \textquotesingle{}}



Memorizing the character to be displayed by the hand. 

\mbox{\Hypertarget{main_8ino_acce3adb5f80a51dfcd0853e3f3f8d730}\label{main_8ino_acce3adb5f80a51dfcd0853e3f3f8d730}} 
\index{main.ino@{main.ino}!comObject@{comObject}}
\index{comObject@{comObject}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{comObject}{comObject}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}} com\+Object = \mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}}()}



Only instance of \mbox{\hyperlink{class_communication_arduino}{Communication\+Arduino}} class, to send and read from python UI. 

Other variables Communication variables\+: \mbox{\Hypertarget{main_8ino_a8ac1ceda8825fe551c57acad398ccaf7}\label{main_8ino_a8ac1ceda8825fe551c57acad398ccaf7}} 
\index{main.ino@{main.ino}!decrement@{decrement}}
\index{decrement@{decrement}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{decrement}{decrement}}
{\footnotesize\ttfamily int decrement = \mbox{\hyperlink{_servo_8h_a656e668a7dd58ea87bd5d160092e9eab}{N\+B\+\_\+\+F\+I\+N\+G\+E\+RS}}-\/1}



Decrement to control which finger is it\textquotesingle{}s turn to be moved back to initial position. 

\mbox{\Hypertarget{main_8ino_a1bdab4cca262d896df88f568c3e10985}\label{main_8ino_a1bdab4cca262d896df88f568c3e10985}} 
\index{main.ino@{main.ino}!increment@{increment}}
\index{increment@{increment}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{increment}{increment}}
{\footnotesize\ttfamily int increment = 0}



Increment to control which finger is it\textquotesingle{}s turn to be moved. 

\mbox{\Hypertarget{main_8ino_a31cab1c5a004700a493a2afef37ec96e}\label{main_8ino_a31cab1c5a004700a493a2afef37ec96e}} 
\index{main.ino@{main.ino}!lastCommand@{lastCommand}}
\index{lastCommand@{lastCommand}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{lastCommand}{lastCommand}}
{\footnotesize\ttfamily int last\+Command = to\+Ascii(\textquotesingle{} \textquotesingle{})}



Memorizing the last command achieved in this variable. 

\mbox{\Hypertarget{main_8ino_a109a5b4a978e1cfc92ebc8094456f8a7}\label{main_8ino_a109a5b4a978e1cfc92ebc8094456f8a7}} 
\index{main.ino@{main.ino}!messageReceived@{messageReceived}}
\index{messageReceived@{messageReceived}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{messageReceived}{messageReceived}}
{\footnotesize\ttfamily bool message\+Received = false}



flag to show if the arduino as already received a message (temporary) 

\mbox{\Hypertarget{main_8ino_a5976a7c6334f8b6fefe41e75815586e0}\label{main_8ino_a5976a7c6334f8b6fefe41e75815586e0}} 
\index{main.ino@{main.ino}!moveDone@{moveDone}}
\index{moveDone@{moveDone}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{moveDone}{moveDone}}
{\footnotesize\ttfamily bool move\+Done = false}



Flag to control the main loop according to if the hand finished moving to the desired character. 

command variables \mbox{\Hypertarget{main_8ino_a845f0d56bc7052a02d209e1bdb4673ea}\label{main_8ino_a845f0d56bc7052a02d209e1bdb4673ea}} 
\index{main.ino@{main.ino}!newCommand@{newCommand}}
\index{newCommand@{newCommand}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{newCommand}{newCommand}}
{\footnotesize\ttfamily bool new\+Command = false}



Normaly initialized to 0. Set to 1 for testing purposes. 

\mbox{\Hypertarget{main_8ino_aea60aa19f747b78afd1139e406a352f2}\label{main_8ino_aea60aa19f747b78afd1139e406a352f2}} 
\index{main.ino@{main.ino}!purpose@{purpose}}
\index{purpose@{purpose}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{purpose}{purpose}}
{\footnotesize\ttfamily int purpose = \mbox{\hyperlink{main_8ino_afc65c7962fe526e849427bfe64b82144}{U\+N\+F\+O\+U\+ND}}}



Memorizing in which mode the application is used (Quiz or educationnal) 

\mbox{\Hypertarget{main_8ino_a0d0ca8468c1e5115058e00937ca295c0}\label{main_8ino_a0d0ca8468c1e5115058e00937ca295c0}} 
\index{main.ino@{main.ino}!reverseDone@{reverseDone}}
\index{reverseDone@{reverseDone}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{reverseDone}{reverseDone}}
{\footnotesize\ttfamily bool reverse\+Done = false}



Flag to control the main loop according to if the hand finished moving back to it\textquotesingle{}s initial position. 

\mbox{\Hypertarget{main_8ino_a79efceea669fb85a732c30f47cf7e59c}\label{main_8ino_a79efceea669fb85a732c30f47cf7e59c}} 
\index{main.ino@{main.ino}!servo@{servo}}
\index{servo@{servo}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{servo}{servo}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_servo}{Servo}} servo}

Initiating the \mbox{\hyperlink{class_servo}{Servo}} class object. \mbox{\Hypertarget{main_8ino_af98b368c015210c057e25fe1484b1689}\label{main_8ino_af98b368c015210c057e25fe1484b1689}} 
\index{main.ino@{main.ino}!shouldRead@{shouldRead}}
\index{shouldRead@{shouldRead}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{shouldRead}{shouldRead}}
{\footnotesize\ttfamily volatile bool should\+Read = \mbox{\hyperlink{main_8ino_a29673a846b6e687969ee7223a84d235d}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+AD}}}



flag to read a message 

\mbox{\Hypertarget{main_8ino_ab59d882c0d163aa09a9c2ef5b8feaa60}\label{main_8ino_ab59d882c0d163aa09a9c2ef5b8feaa60}} 
\index{main.ino@{main.ino}!shouldSend@{shouldSend}}
\index{shouldSend@{shouldSend}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{shouldSend}{shouldSend}}
{\footnotesize\ttfamily volatile bool should\+Send = \mbox{\hyperlink{main_8ino_a9a447e7fa4c0c03129e8d483a33c9cd8}{N\+O\+T\+\_\+\+R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+S\+E\+ND}}}



flag to send a message 

\mbox{\Hypertarget{main_8ino_acc782030f8793997e749aad227c0d17a}\label{main_8ino_acc782030f8793997e749aad227c0d17a}} 
\index{main.ino@{main.ino}!timeOnLetter@{timeOnLetter}}
\index{timeOnLetter@{timeOnLetter}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{timeOnLetter}{timeOnLetter}}
{\footnotesize\ttfamily int time\+On\+Letter = 1}



Memorizing the time that has to be spent on each letter. 

\mbox{\Hypertarget{main_8ino_a481e2c411a810f1de884d60df00c8dac}\label{main_8ino_a481e2c411a810f1de884d60df00c8dac}} 
\index{main.ino@{main.ino}!timerDone@{timerDone}}
\index{timerDone@{timerDone}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{timerDone}{timerDone}}
{\footnotesize\ttfamily bool timer\+Done = false}



Flag for the timer of the time spent on each letter. 

\mbox{\Hypertarget{main_8ino_a5b03bd1d13ca5c08ab96658444d82f8f}\label{main_8ino_a5b03bd1d13ca5c08ab96658444d82f8f}} 
\index{main.ino@{main.ino}!timerOnLetter@{timerOnLetter}}
\index{timerOnLetter@{timerOnLetter}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{timerOnLetter}{timerOnLetter}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} timer\+On\+Letter}



Monitors the time spent on each letter before resetting to initial position. 

\mbox{\Hypertarget{main_8ino_a5278fd9c15fc0a72b646f5260094d0dd}\label{main_8ino_a5278fd9c15fc0a72b646f5260094d0dd}} 
\index{main.ino@{main.ino}!timerReadMsg@{timerReadMsg}}
\index{timerReadMsg@{timerReadMsg}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{timerReadMsg}{timerReadMsg}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} timer\+Read\+Msg}



read messages timer (temporary) 

\mbox{\Hypertarget{main_8ino_a3b1625ba44546a1ce992da21dea9d565}\label{main_8ino_a3b1625ba44546a1ce992da21dea9d565}} 
\index{main.ino@{main.ino}!timerSendMsg@{timerSendMsg}}
\index{timerSendMsg@{timerSendMsg}!main.ino@{main.ino}}
\doxysubsubsection{\texorpdfstring{timerSendMsg}{timerSendMsg}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_soft_timer}{Soft\+Timer}} timer\+Send\+Msg}



send messages timer 

